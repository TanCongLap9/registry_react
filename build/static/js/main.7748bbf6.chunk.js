(this.webpackJsonpregistry_react=this.webpackJsonpregistry_react||[]).push([[0],{10:function(e,t,n){e.exports=n(22)},20:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=20},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a,c=n(2),r=n.n(c),l=n(7),s=n.n(l),o=n(1),d=n(9),E=n(8);var i=String.raw(a||(a=Object(E.a)([void 0],['Windows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Description]\n"KeyName"="BCD00000000"\n"System"=dword:00000001\n"TreatAsSystem"=dword:00000001\n"GuidCache"=hex:0d,50,42,4b,1f,e8,d4,01,0c,27,00,00,c5,01,f9,81,ca,0c,e4,ab,00,\\\n00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{0ce4991b-e6b3-4b16-b23c-5e0d9250e5d9}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{0ce4991b-e6b3-4b16-b23c-5e0d9250e5d9}\\Description]\n"Type"=dword:20100000\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{0ce4991b-e6b3-4b16-b23c-5e0d9250e5d9}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{0ce4991b-e6b3-4b16-b23c-5e0d9250e5d9}\\Elements\\16000020]\n"Element"=hex:01\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{1afa9c49-16ab-4a5c-901b-212802da9460}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{1afa9c49-16ab-4a5c-901b-212802da9460}\\Description]\n"Type"=dword:20200004\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{1afa9c49-16ab-4a5c-901b-212802da9460}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{1afa9c49-16ab-4a5c-901b-212802da9460}\\Elements\\14000006]\n"Element"=hex(7):7b,00,37,00,65,00,61,00,32,00,65,00,31,00,61,00,63,00,2d,00,\\\n   32,00,65,00,36,00,31,00,2d,00,34,00,37,00,32,00,38,00,2d,00,61,00,61,00,61,\\\n   00,33,00,2d,00,38,00,39,00,36,00,64,00,39,00,64,00,30,00,61,00,39,00,66,00,\\\n   30,00,65,00,7d,00,00,00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}\\Description]\n"Type"=dword:20100000\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}\\Elements\\15000011]\n"Element"=hex:00,00,00,00,00,00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}\\Elements\\15000013]\n"Element"=hex:01,00,00,00,00,00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{4636856e-540f-4170-a130-a84776f4c654}\\Elements\\15000014]\n"Element"=hex:00,c2,01,00,00,00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{5189b25c-5558-4bf2-bca4-289b11bd29e2}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{5189b25c-5558-4bf2-bca4-289b11bd29e2}\\Description]\n"Type"=dword:20100000\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{5189b25c-5558-4bf2-bca4-289b11bd29e2}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{6efb52bf-1766-41db-a6b3-0ee5eff72bd7}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{6efb52bf-1766-41db-a6b3-0ee5eff72bd7}\\Description]\n"Type"=dword:20200003\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{6efb52bf-1766-41db-a6b3-0ee5eff72bd7}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{6efb52bf-1766-41db-a6b3-0ee5eff72bd7}\\Elements\\14000006]\n"Element"=hex(7):7b,00,37,00,65,00,61,00,32,00,65,00,31,00,61,00,63,00,2d,00,\\\n32,00,65,00,36,00,31,00,2d,00,34,00,37,00,32,00,38,00,2d,00,61,00,61,00,61,\\\n00,33,00,2d,00,38,00,39,00,36,00,64,00,39,00,64,00,30,00,61,00,39,00,66,00,\\\n30,00,65,00,7d,00,00,00,7b,00,37,00,66,00,66,00,36,00,30,00,37,00,65,00,30,\\\n00,2d,00,34,00,33,00,39,00,35,00,2d,00,31,00,31,00,64,00,62,00,2d,00,62,00,\\\n30,00,64,00,65,00,2d,00,30,00,38,00,30,00,30,00,32,00,30,00,30,00,63,00,39,\\\n00,61,00,36,00,36,00,7d,00,00,00,00,00\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{7ea2e1ac-2e61-4728-aaa3-896d9d0a9f0e}]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{7ea2e1ac-2e61-4728-aaa3-896d9d0a9f0e}\\Description]\n"Type"=dword:20100000\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{7ea2e1ac-2e61-4728-aaa3-896d9d0a9f0e}\\Elements]\n\n[HKEY_LOCAL_MACHINE\\BCD00000000\\Objects\\{7ea2e1ac-2e61-4728-aaa3-896d9d0a9f0e}\\Elements\\14000006]\n"Element"=hex(7):7b,00,34,00,36,00,33,00,36,00,38,00,35,00,36,00,65,00,2d,00,\\\n   35,00,34,00,30,00,66,00,2d,00,34,00,31,00,37,00,30,00,2d,00,61,00,31,00,33,\\\n   00,30,00,2d,00,61,00,38,00,34,00,37,00,37,00,36,00,66,00,34,00,63,00,36,00,\\\n   35,00,34,00,7d,00,00,00,7b,00,30,00,63,00,65,00,34,00,39,00,39,00,31,00,62,\\\n   00,2d,00,65,00,36,00,62,00,33,00,2d,00,34,00,62,00,31,00,36,00,2d,00,62,00,\\\n   32,00,33,00,63,00,2d,00,35,00,65,00,30,00,64,00,39,00,32,00,35,00,30,00,65,\\\n   00,35,00,64,00,39,00,7d,00,00,00,7b,00,35,00,31,00,38,00,39,00,62,00,32,00,\\\n   35,00,63,00,2d,00,35,00,35,00,35,00,38,00,2d,00,34,00,62,00,66,00,32,00,2d,\\\n00,62,00,63,00,61,00,34,00,2d,00,32,00,38,00,39,00,62,00,31,00,31,00,62,00,\\\n64,00,32,00,39,00,65,00,32,00,7d,00,00,00,00,00\n']))),m=n(3),u=n.n(m);const b=e=>{let{name:t,callback:n}=e;return r.a.createElement("li",null,r.a.createElement("button",{type:"button",className:"context-menuitem",onClick:n},t))},f=e=>{let{context:t,contextType:n}=e;const[a,l]=Object(c.useState)([]);return Object(c.useEffect)(()=>{const e=[["Copy path",()=>{const e=u()(t).parents(".key");navigator.clipboard.writeText(e.children(".key-name").toArray().map(e=>e.innerText).reverse().join("\\"))}]];switch(n){case"key-name":case"data-name":l(e);break;case"data-type":break;case"data-value":l(e);break;default:l([])}},[t,n]),r.a.createElement("ul",{className:"context-menu flex-col"},a.map((e,t)=>{let[n,a]=e;return r.a.createElement(b,{key:t,name:n,callback:a})}))};var C=n(5);const _="REG_DWORD",p="REG_QWORD",O="REG_BINARY";function y(e){return new Uint8Array(e.split(",").map(e=>parseInt(e,16)))}function h(e,t,n,a){let[c,r]=/^".*?"/.test(e)?[e.slice(1,-1),"REG_SZ"]:e.startsWith("dword:")?[e.slice(6),"REG_DWORD"]:e.startsWith("hex(b):")?[e.slice(7),"REG_QWORD"]:e.startsWith("hex(2):")?[e.slice(7),"REG_EXPAND_SZ"]:e.startsWith("hex(7):")?[e.slice(7),"REG_MULTI_SZ"]:e.startsWith("hex:")?[e.slice(4),"REG_BINARY"]:"hex(0):"===e?[null,"REG_NONE"]:[];if(!r)throw new TypeError("Unknown value type: ".concat(c));let l=0;void 0!==c&&null!==c&&(c=c.replace(/\\$/,""));let s,o,d=t[n+l];for(;"\\"===d[d.length-1];)c+=t[n+ ++l].replace(/\\$/,""),d=t[n+l];switch(a.current=l,r){case"REG_BINARY":c=y(c);break;case"REG_EXPAND_SZ":case"REG_MULTI_SZ":s=y(c),o=new TextDecoder("utf-16le"),c=o.decode(s).replace(/\0/g,"\n").replace(/\n$/,"");break;case"REG_DWORD":c=Object(C.str2bigInt)(c,16);break;case"REG_QWORD":c=Object(C.str2bigInt)(c.split(",").reverse().join(""),16)}return{value:c,type:r}}const N=(e,t)=>{let n=t;return e.split("\\").forEach(e=>{void 0!==n[e]&&null!==n[e]||(n[e]={}),n=n[e]}),n};function A(e){let t,n=!0,a=!1,c="",r={},l=0;const s=e.split("\n").map(e=>e.trim()),o={current:0},d={};let E="",i=0;try{for(let e=0;e<s.length;e++){if([E,i]=[s[e],e],l=i+1,n&&(a="Windows Registry Editor Version 5.00"===E),!n){if(o.current){o.current--;continue}if(!a)throw new Error("Missing version declaration 'Windows Registry Editor Version 5.00'");if(t=E.match(/^\[(.+?)\]$/)){const e=t[1];if("key"===c)throw new Error("Only 1 key per entry: ".concat(e));c="key",r=N(e,d)}else if(""===E.trim())c="";else{if(!(t=E.match(/^(\".+?\"|@)=(.+?)$/)))throw new SyntaxError("Invalid syntax.");{let e,n,a;if([e,a]=[t[1],t[2]],c="data","@"===e);else{if(!e.match(/".+?"/))throw new SyntaxError("Invalid data name: ".concat(e));e=e.slice(1,-1)}({value:a,type:n}=h(a,s,i,o)),void 0!==r.__data__&&null!==r.__data__||(r.__data__=[]),r.__data__.push({name:e,value:a,type:n})}}}""!==E.trim()&&(n=!1)}return console.log(d),d}catch(m){throw m.lineNum=l,m.line=E,m}}const L="SET_CONTENT",H="SET_CONTEXT",x="SET_SHOW_CONTEXT",w="SET_ERROR",D=Object(c.createContext)();function j(e,t){switch(t.type){case L:try{return{...e,content:t.content,tree:A(t.content),error:null}}catch(n){return{...e,tree:null,error:n}}case H:return t.show?u()("#context-menu-wrapper").slideDown("fast").offset({left:u()(t.context).offset().left,top:u()(t.context).offset().top+20}).focus():u()("#context-menu-wrapper").fadeOut("fast"),{...e,context:t.context,contextType:t.contextType,show:t.show};case x:return t.show?u()("#context-menu-wrapper").slideDown("fast").offset({left:u()(t.context).offset().left,top:u()(t.context).offset().top+20}).focus():u()("#context-menu-wrapper").fadeOut("fast"),{...e,show:t.show};case w:return{...e,error:t.error};default:return e}}const T=e=>{let{name:t,content:n}=e;const[a,l]=Object(c.useContext)(D);return r.a.createElement("li",{className:"key"},r.a.createElement("span",{className:"key-rule"}),r.a.createElement("span",{className:"key-icon",onClick:e=>{e.stopPropagation();const t=u()(e.target).parent();t.toggleClass("key-collapsed").children(".key-icon").text(t.hasClass("key-collapsed")?"\ud83d\udcc1":"\ud83d\udcc2").end().children(".key-items").slideToggle("fast")}},"\ud83d\udcc2"),r.a.createElement("span",{className:"key-name",onClick:e=>{l({type:"SET_CONTEXT",context:u()(e.target),contextType:e.target.className,show:!0})}},t),r.a.createElement("ul",{className:"key-items"},Object.keys(n).map((e,t)=>"__data__"===e?r.a.createElement(k,{key:t,values:n[e]}):r.a.createElement(T,{key:t,name:e,content:n[e]}))))},k=e=>{let{values:t}=e;return r.a.createElement("li",null,r.a.createElement("table",{className:"data-list"},r.a.createElement("colgroup",null,r.a.createElement("col",{className:"name-col"}),r.a.createElement("col",{className:"type-col"}),r.a.createElement("col",{className:"value-col"})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,t.map((e,t)=>r.a.createElement(v,{key:t,name:e.name,type:e.type,value:e.value})))))},v=e=>{let{name:t,type:n,value:a}=e;const[l,s]=Object(c.useState)(),[o,d]=Object(c.useContext)(D);function E(e){d({type:"SET_CONTEXT",context:u()(e.target),contextType:e.target.className,show:!0})}return Object(c.useEffect)(()=>{switch(n){case O:s(Array.from(a).map(e=>e.toString(16).padStart(2,"0")).join(" "));break;case _:case p:s(Object(C.bigInt2str)(a,10));break;default:s(a.toString())}},[a,n]),r.a.createElement("tr",{className:"data"},r.a.createElement("td",{className:"data-name",onClick:E},t),r.a.createElement("td",{className:"data-type",onClick:E},n),r.a.createElement("td",{className:"data-value",onClick:E},l))};let I;const g=()=>r.a.createElement("div",{id:"input-content"},r.a.createElement("h2",null,"Input your registry data here"),r.a.createElement("div",{id:"text-input",className:"flex-row"},r.a.createElement("div",{id:"content"}))),B=()=>r.a.createElement("div",{id:"input-file"},r.a.createElement("h2",null,"Or import a file"),r.a.createElement("input",{type:"file",id:"registry-file",onChange:e=>{e.target.files[0].text().then(e=>{I.dispatch({changes:{from:0,to:I.state.doc.length,insert:e}})})}})),M=e=>{let{error:t}=e;function n(e){return"".concat(e.message,"\n ").concat(e.lineNum," | ").concat(e.line)}return r.a.createElement("pre",{id:"error"},void 0!==t&&null!==t&&(console.error(n(t)),n(t)))},R=e=>{let{state:t}=e;return r.a.createElement("div",{id:"registry-tree"},r.a.createElement("ul",{id:"root-path"},void 0!==t.tree&&null!==t.tree?Object.keys(t.tree).map((e,n)=>r.a.createElement(T,{key:n,name:e,content:t.tree[e]})):void 0))};var Y=()=>{const[e,t]=Object(c.useReducer)(j,{content:i,tree:null,context:null,contextType:null,show:!1,error:null});function n(){t({type:"SET_CONTENT",content:I.state.doc.toString()})}return Object(c.useEffect)(()=>{I||(I=new o.c({doc:i,extensions:[d.a,Object(o.r)(),Object(o.m)(),Object(o.n)(),o.e.fromClass(class{constructor(e){}update(e){e.docChanged&&n()}})],parent:document.querySelector("#content")}),n())},[I]),r.a.createElement(D.Provider,{value:[e,t]},r.a.createElement("div",{id:"double-container",className:"flex-row"},r.a.createElement("div",{id:"editor"},r.a.createElement(g,null),r.a.createElement(B,null)),r.a.createElement("div",{id:"output"},r.a.createElement("h1",null,"Output"),r.a.createElement(M,{error:e.error}),r.a.createElement(R,{state:e})),r.a.createElement("div",{id:"context-menu-wrapper",tabIndex:"0",onBlur:()=>t({type:"SET_SHOW_CONTEXT",show:!1})},r.a.createElement(f,{context:e.context,contextType:e.contextType}))))};n(21);const K=document.querySelector("#root");s.a.createRoot(K).render(r.a.createElement(Y,null))}},[[10,1,2]]]);
//# sourceMappingURL=main.7748bbf6.chunk.js.map